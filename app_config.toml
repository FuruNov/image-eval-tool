[page]
page_title = "Image Quality Assessment Tool"
layout = "wide"

[local]
enable_state_persistence = true

[sidebar.toggles]
zoom = { label = "Enable ROI Zoom", default = false }
fft = { label = "Enable FFT Analysis", default = false }
profile = { label = "Enable Line Profile ðŸ“ˆ", default = true }
sobel = { label = "Enable Sobel Edge", default = false }
gms = { label = "Enable GMS Map", default = false }
hist = { label = "Enable Histogram", default = false }
slider = { label = "Enable Image Slider", default = true }
flicker = { label = "Enable Flicker Test", default = true }
delta_e = { label = "Enable CIELAB Î”E", default = false }
log_grad = { label = "Enable Log-Grad Hist", default = false }
roi = { label = "Enable ROI Check", default = true }

[sidebar.metrics]
snr = { label = "SNR", default = false }
psnr = { label = "PSNR", default = true }
ssim = { label = "SSIM", default = true }
fsim = { label = "FSIM", default = false }
gmsd = { label = "GMSD", default = true }
emd = { label = "Grad EMD", default = false }
niqe = { label = "NIQE (No-Ref)", default = false }
maniqa = { label = "MANIQA (No-Ref)", default = false }
musiq = { label = "MUSIQ (PyIQA)", default = false }
clipiqa = { label = "CLIPIQA (PyIQA)", default = false }
piqe = { label = "PIQE (PyIQA)", default = false }
grad_kurtosis = { label = "Grad Kurtosis (No-Ref)", default = false }
grad_gini = { label = "Grad Gini (No-Ref)", default = false }

[tabs]
spatial = "Spatial (Standard)"
roi = "ROI Check"
profile = "Line Profile ðŸ“ˆ"
sobel = "Sobel Edge"
gms = "GMS Map"
hist = "Histogram"
slider = "Image Slider"
flicker = "Flicker Test (Blink)"
delta_e = "CIELAB Î”E Map"
fft = "Frequency (FFT)"
log_grad = "Log-Grad Hist"

[defaults]
reference = "assets/reference.png"
methods = [
    "assets/method_blur.png",
    "assets/method_noise.png",
    "assets/method_jpeg.png",
]

[metrics.pyiqa]
metrics = ["niqe", "maniqa", "musiq", "clipiqa", "piqe"]

[metrics.display]
order = [
    "SNR",
    "PSNR",
    "SSIM",
    "FSIM",
    "GMSD",
    "EMD",
    "NIQE",
    "PIQE",
    "MANIQA",
    "MUSIQ",
    "CLIPIQA",
    "GRAD_KURTOSIS",
    "GRAD_GINI",
]
nr_metrics = [
    "niqe",
    "maniqa",
    "musiq",
    "clipiqa",
    "piqe",
    "grad_kurtosis",
    "grad_gini",
]

[metrics.rename]
SNR = "SNR (â†‘)"
PSNR = "PSNR (â†‘)"
SSIM = "SSIM (â†‘)"
FSIM = "FSIM (â†‘)"
GMSD = "GMSD (â†“)"
EMD = "Grad EMD (â†“)"
NIQE = "NIQE (â†“)"
MANIQA = "MANIQA (â†‘)"
MUSIQ = "MUSIQ (â†‘)"
CLIPIQA = "CLIPIQA (â†‘)"
PIQE = "PIQE (â†“)"
GRAD_KURTOSIS = "Grad Kurtosis (â†‘)"
GRAD_GINI = "Grad Gini (â†‘)"

[metrics.tooltips]
PSNR = """
- **Full Name**: Peak Signal-to-Noise Ratio
- **Measures**: The ratio between the maximum possible power of a signal and the power of corrupting noise.
- **Interpretation**: Higher is better.
"""
SSIM = """
- **Full Name**: Structural Similarity Index
- **Measures**: The similarity between two images based on luminance, contrast, and structure.
- **Interpretation**: Higher is better (max 1.0).
"""
GMSD = """
- **Full Name**: Gradient Magnitude Similarity Deviation
- **Measures**: The distortion of image structure by calculating the standard deviation of the gradient magnitude similarity map.
- **Interpretation**: Lower is better.
"""
NIQE = """
- **Full Name**: Naturalness Image Quality Evaluator
- **Measures**: The deviation from natural image statistics (No-Reference).
- **Interpretation**: Lower is better.
"""
MANIQA = """
- **Full Name**: Multi-dimension Attention Network for IQA
- **Measures**: Perceptual quality using a deep learning-based attention network (No-Reference).
- **Interpretation**: Higher is better.
"""
MUSIQ = """
- **Full Name**: Multi-scale Image Quality Transformer
- **Measures**: Perceptual quality across different scales and aspect ratios (No-Reference).
- **Interpretation**: Higher is better.
"""
CLIPIQA = """
- **Full Name**: CLIP-based Image Quality Assessment
- **Measures**: Image quality based on text prompts ('Good photo' vs 'Bad photo') using CLIP.
- **Interpretation**: Higher is better.
"""
PIQE = """
- **Full Name**: Perception based Image Quality Evaluator
- **Measures**: Distortion in block-based processing (No-Reference).
- **Interpretation**: Lower is better.
"""
Grad_Kurtosis = """
- **Full Name**: Gradient Kurtosis
- **Measures**: The kurtosis (heavy-tailedness) of the gradient magnitude distribution. Indicates edge/texture sharpness.
- **Interpretation**: Context-dependent (usually higher means sharper edges).
"""
Grad_Gini = """
- **Full Name**: Gradient Gini Coefficient
- **Measures**: The sparsity of gradients.
- **Interpretation**: Context-dependent (higher means more sparse/concentrated edges).
"""
EMD = """
- **Full Name**: Earth Mover's Distance (Wasserstein Distance)
- **Measures**: The distance between the Log-Gradient Histograms of Reference and Method.
- **Interpretation**: Lower is better.
"""
SNR = """
- **Full Name**: Signal-to-Noise Ratio
- **Measures**: The ratio of signal power to noise power.
- **Interpretation**: Higher is better.
"""
FSIM = """
- **Full Name**: Feature Similarity Index Measure
- **Measures**: Image quality using phase congruency and gradient magnitude.
- **Interpretation**: Higher is better.
"""


[metrics.colors]
gold_text = "#856404"
gold_bg = "#fff3cd"
silver_text = "#495057"
silver_bg = "#e2e3e5"
bronze_text = "#854018"
bronze_bg = "#ffe5d0"

[ui.colors]
indicator = [0.0, 1.0, 0.0]

[ui.style]
thickness = 4
